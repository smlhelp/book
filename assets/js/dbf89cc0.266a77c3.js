"use strict";(self.webpackChunksmlhelp=self.webpackChunksmlhelp||[]).push([[539],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>c});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),u=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(n),c=a,h=d["".concat(s,".").concat(c)]||d[c]||m[c]||l;return n?i.createElement(h,r(r({ref:t},p),{},{components:n})):i.createElement(h,r({ref:t},p))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,r[1]=o;for(var u=2;u<l;u++)r[u]=n[u];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2181:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var i=n(7462),a=(n(7294),n(3905));const l={sidebar_position:1},r="Installing SML/NJ",o={unversionedId:"start/install",id:"start/install",title:"Installing SML/NJ",description:"By Brandon Wu, May 2020, updated by Zach Battleman, April 2022",source:"@site/docs/start/install.md",sourceDirName:"start",slug:"/start/install",permalink:"/book/docs/start/install",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",previous:{title:"Welcome!",permalink:"/book/docs/"},next:{title:"SML Syntax Cheatsheet",permalink:"/book/docs/start/syntax"}},s={},u=[{value:"Installing SML/NJ on AFS",id:"installing-smlnj-on-afs",level:2},{value:"Making SML/NJ a bit prettier",id:"making-smlnj-a-bit-prettier",level:2},{value:"VSCode",id:"vscode",level:3},{value:"Vim",id:"vim",level:3},{value:"The quick and easy version",id:"the-quick-and-easy-version",level:3},{value:"The nitty gritty (but totally worth it) version",id:"the-nitty-gritty-but-totally-worth-it-version",level:3},{value:"Step 1) Installing a Plug-In manager",id:"step-1-installing-a-plug-in-manager",level:4},{value:"Step 2) Modifying your .vimrc",id:"step-2-modifying-your-vimrc",level:4},{value:"Step 3) Open vim and actually install",id:"step-3-open-vim-and-actually-install",level:4},{value:"Step 4) Optional Cool stuff",id:"step-4-optional-cool-stuff",level:4},{value:"Step 5) Keybindings",id:"step-5-keybindings",level:4}],p={toc:u};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"installing-smlnj"},"Installing SML/NJ"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"By Brandon Wu, May 2020"),", ",(0,a.kt)("em",{parentName:"p"},"updated by Zach Battleman, April 2022")),(0,a.kt)("h2",{id:"installing-smlnj-on-afs"},"Installing SML/NJ on AFS"),(0,a.kt)("p",null,"To set up your SML/NJ environment on the Andrew File System (AFS), first you will need to log in to AFS."),(0,a.kt)("p",null,"You can do this by executing the command"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ssh <andrew_id>@unix.andrew.cmu.edu\n")),(0,a.kt)("p",null,"You can do this from a terminal very straightforwardly on a Mac. If you are on a Windows machine, you may need to use an application such as Visual Studio Code or MobaXTerm to access a terminal."),(0,a.kt)("p",null,"Once you are in AFS, execute the command"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"/afs/andrew/course/15/150/bin/setup-path\n")),(0,a.kt)("p",null,"Once the script has finished running, type in the command that it tells you to. It should look something like"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},". '/afs/andrew.cmu.edu/usrc/<andrew_id>/.bashrc\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"IMPORTANT:")," ",(0,a.kt)("em",{parentName:"p"},"Do not forget the . at the beginning!")," This will cause the script to not work."),(0,a.kt)("p",null,"After finishing this, you should be able to type in ",(0,a.kt)("inlineCode",{parentName:"p"},"smlnj")," from the command line and access the SML/NJ REPL."),(0,a.kt)("h2",{id:"making-smlnj-a-bit-prettier"},"Making SML/NJ a bit prettier"),(0,a.kt)("p",null,"Now that you've set up SML/NJ, you might want to make it a bit nicer to work with."),(0,a.kt)("h3",{id:"vscode"},"VSCode"),(0,a.kt)("p",null,'Simply install the Standard ML plugin. From the extensions window in VS Code, just type "Standard ML" in the search and it should come up. If it does not, you can manually download the extension ',(0,a.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=freebroccolo.sml"},"here")," and install from the ",(0,a.kt)("inlineCode",{parentName:"p"},".vsix"),' file. This can be done by clicking the three dots in the top right of the extensions menu and clicking "install from vsix". From there, simply provide the ',(0,a.kt)("inlineCode",{parentName:"p"},".vsix")," file you downloaded and now you're all set up!"),(0,a.kt)("h3",{id:"vim"},"Vim"),(0,a.kt)("p",null,"For the purposes of this document, I will provide instructions as if you are using regular Vim. If you are using neovim or some other vim derivative, I'll provide links to the repositories I use, but ",(0,a.kt)("em",{parentName:"p"},"don't")," run the exact commands - they are for vim users specifically. Furthermore, this guide is for unix based machines - not Windows. If you are on Windows, please check the associated repositories for instructions. (Note, this will Work on WSL if you are using that, just not pure Windows)"),(0,a.kt)("h3",{id:"the-quick-and-easy-version"},"The quick and easy version"),(0,a.kt)("p",null,"If all you care about is syntax highlighting outside of what the 15150 setup script provides, simply add"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vim"},"autocmd BufNewFile,BufRead *.fun set ft=sml\nautocmd BufNewFile,BufRead *.sig set ft=sml\n")),(0,a.kt)("p",null,"to your ",(0,a.kt)("inlineCode",{parentName:"p"},".vimrc")," file. You can find this file at ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.vimrc"),". You should now have syntax highlighting on your ",(0,a.kt)("inlineCode",{parentName:"p"},".sig")," and ",(0,a.kt)("inlineCode",{parentName:"p"},".fun")," files!"),(0,a.kt)("h3",{id:"the-nitty-gritty-but-totally-worth-it-version"},"The nitty gritty (but totally worth it) version"),(0,a.kt)("h4",{id:"step-1-installing-a-plug-in-manager"},"Step 1) Installing a Plug-In manager"),(0,a.kt)("p",null,"If you already have one, feel free to skip this step!"),(0,a.kt)("p",null,"There are many many choices for a Vim plugin manager, but I recommend using ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/junegunn/vim-plug"},"Vim-Plug"),". You can install it with:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\n")),(0,a.kt)("h4",{id:"step-2-modifying-your-vimrc"},"Step 2) Modifying your .vimrc"),(0,a.kt)("p",null,"Just slap this mess into your ",(0,a.kt)("inlineCode",{parentName:"p"},".vimrc")," (which can be found at ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.vimrc"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vim"},'call plug#begin()\nPlug \'jez/vim-better-sml\'\n\ncall plug#end()\n\naugroup vimbettersml\n  au!\n\n  " ----- Keybindings -----\n\n  au FileType sml nnoremap <silent> <buffer> <leader>t :SMLTypeQuery<CR>\n  au FileType sml nnoremap <silent> <buffer> gd :SMLJumpToDef<CR>\n\n  " open the REPL terminal buffer\n  au FileType sml nnoremap <silent> <buffer> <leader>is :SMLReplStart<CR>\n  " close the REPL (mnemonic: k -> kill)\n  au FileType sml nnoremap <silent> <buffer> <leader>ik :SMLReplStop<CR>\n  " build the project (using CM if possible)\n  au FileType sml nnoremap <silent> <buffer> <leader>ib :SMLReplBuild<CR>\n  " for opening a structure, not a file\n  au FileType sml nnoremap <silent> <buffer> <leader>io :SMLReplOpen<CR>\n  " use the current file into the REPL (even if using CM)\n  au FileType sml nnoremap <silent> <buffer> <leader>iu :SMLReplUse<CR>\n  " clear the REPL screen\n  au FileType sml nnoremap <silent> <buffer> <leader>ic :SMLReplClear<CR>\n  " set the print depth to 100\n  au FileType sml nnoremap <silent> <buffer> <leader>ip :SMLReplPrintDepth<CR>\n\n  " ----- Other settings -----\n\n  " Uncomment to try out conceal characters\n  "au FileType sml setlocal conceallevel=2\n\n  " Uncomment to try out same-width conceal characters\n  "let g:sml_greek_tyvar_show_tick = 1\naugroup END\n')),(0,a.kt)("p",null,"This configuration will setup a plugin called ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jez/vim-better-sml"},"vim-better-sml")," with default keybindings (I'll put notes on this at the bottom)"),(0,a.kt)("h4",{id:"step-3-open-vim-and-actually-install"},"Step 3) Open vim and actually install"),(0,a.kt)("p",null,"When you open vim, type ",(0,a.kt)("inlineCode",{parentName:"p"},":PlugInstall")," and it should pop up a window where you see the plugin install. If so, congrats! You have syntax highlighting (and other cool features)"),(0,a.kt)("h4",{id:"step-4-optional-cool-stuff"},"Step 4) Optional Cool stuff"),(0,a.kt)("p",null,"Conceal characters allow you to replace ",(0,a.kt)("inlineCode",{parentName:"p"},"fn")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"'a")," with actual lambdas an alphas! It's kind of hard to explain, but it's a really cool feature so try it! Just uncomment the line (remove the quote at the front):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'"au FileType sml setlocal conceallevel=2\n')),(0,a.kt)("h4",{id:"step-5-keybindings"},"Step 5) Keybindings"),(0,a.kt)("p",null,"If you want to use some of the other features, just look at the keybind config. The most useful, in my opinion, is opening the REPL within vim which is by default ",(0,a.kt)("inlineCode",{parentName:"p"},"<leader> is"),". I believe ",(0,a.kt)("inlineCode",{parentName:"p"},"<leader>")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"\\")," by default, so in order to open the REPL type ",(0,a.kt)("inlineCode",{parentName:"p"},"\\is"),". If this doesn't work, you probably have a custom leader key which you can check with ",(0,a.kt)("inlineCode",{parentName:"p"},":let mapleader"),". Likewise, to close the REPL is ",(0,a.kt)("inlineCode",{parentName:"p"},"<leader> ik"),"."))}m.isMDXComponent=!0}}]);