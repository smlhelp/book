<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Common HOFs and Partial Evaluation - SML Help</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A resource for learning SML">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Welcome!</a></li><li class="chapter-item expanded "><a href="../start/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../start/install.html"><strong aria-hidden="true">1.1.</strong> Install & run SML</a></li><li class="chapter-item expanded "><a href="../start/syntax.html"><strong aria-hidden="true">1.2.</strong> Syntax Cheatsheet</a></li><li class="chapter-item expanded "><a href="../start/common.html"><strong aria-hidden="true">1.3.</strong> Common Tasks</a></li></ol></li><li class="chapter-item expanded "><a href="../types/index.html"><strong aria-hidden="true">2.</strong> Types & Signatures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../types/type.html"><strong aria-hidden="true">2.1.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../types/bool.html"><strong aria-hidden="true">2.1.1.</strong> bool</a></li><li class="chapter-item expanded "><a href="../types/int.html"><strong aria-hidden="true">2.1.2.</strong> int</a></li><li class="chapter-item expanded "><a href="../types/real.html"><strong aria-hidden="true">2.1.3.</strong> real</a></li><li class="chapter-item expanded "><a href="../types/string.html"><strong aria-hidden="true">2.1.4.</strong> string</a></li><li class="chapter-item expanded "><a href="../types/function.html"><strong aria-hidden="true">2.1.5.</strong> function types</a></li><li class="chapter-item expanded "><a href="../types/list.html"><strong aria-hidden="true">2.1.6.</strong> list</a></li><li class="chapter-item expanded "><a href="../types/options.html"><strong aria-hidden="true">2.1.7.</strong> options</a></li></ol></li><li class="chapter-item expanded "><a href="../types/sig.html"><strong aria-hidden="true">2.2.</strong> Signatures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../types/basis.html"><strong aria-hidden="true">2.2.1.</strong> Basis Library Documentation</a></li><li class="chapter-item expanded "><a href="../types/aux-lib.html"><strong aria-hidden="true">2.2.2.</strong> Auxiliary Library Documentation</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../debugging/index.html"><strong aria-hidden="true">3.</strong> Debugging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../debugging/errors.html"><strong aria-hidden="true">3.1.</strong> Common Errors</a></li><li class="chapter-item expanded "><a href="../debugging/hints.html"><strong aria-hidden="true">3.2.</strong> Debugging Hints</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/index.html"><strong aria-hidden="true">4.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/basic.html"><strong aria-hidden="true">4.1.</strong> Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/eval.html"><strong aria-hidden="true">4.1.1.</strong> Evaluation</a></li><li class="chapter-item expanded "><a href="../concepts/eeq.html"><strong aria-hidden="true">4.1.2.</strong> Extensional Equivalence</a></li><li class="chapter-item expanded "><a href="../concepts/patternmatch.html"><strong aria-hidden="true">4.1.3.</strong> Pattern Matching</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/recind.html"><strong aria-hidden="true">4.2.</strong> Recursion and Induction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/induct.html"><strong aria-hidden="true">4.2.1.</strong> Inductive Proofs</a></li><li class="chapter-item expanded "><a href="../concepts/rec.html"><strong aria-hidden="true">4.2.2.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../concepts/tail.html"><strong aria-hidden="true">4.2.3.</strong> Tail Recursion</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/analysis.html"><strong aria-hidden="true">4.3.</strong> Asymptotic Analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/workspan.html"><strong aria-hidden="true">4.3.1.</strong> Work and Span</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/datatypes.html"><strong aria-hidden="true">4.4.</strong> Datatypes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/poly.html"><strong aria-hidden="true">4.4.1.</strong> Parametric Polymorphism</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/hofs.html"><strong aria-hidden="true">4.5.</strong> Higher Order Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/curry.html"><strong aria-hidden="true">4.5.1.</strong> Currying and Staging</a></li><li class="chapter-item expanded "><a href="../concepts/common.html" class="active"><strong aria-hidden="true">4.5.2.</strong> Common HOFs and Partial Evaluation</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/control.html"><strong aria-hidden="true">4.6.</strong> Control Flow</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/cps.html"><strong aria-hidden="true">4.6.1.</strong> Continuation Passing Style</a></li><li class="chapter-item expanded "><a href="../concepts/exn.html"><strong aria-hidden="true">4.6.2.</strong> Exceptions</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/mods.html"><strong aria-hidden="true">4.7.</strong> Modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/mods.html"><strong aria-hidden="true">4.7.1.</strong> Basics and Ascription</a></li><li class="chapter-item expanded "><a href="../concepts/functors.html"><strong aria-hidden="true">4.7.2.</strong> Functors</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/apps.html"><strong aria-hidden="true">4.8.</strong> Applications</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/sequences.html"><strong aria-hidden="true">4.8.1.</strong> Sequences</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/lazy.html"><strong aria-hidden="true">4.9.</strong> Lazy Evaluation</a></li><li class="chapter-item expanded "><a href="../concepts/imperative.html"><strong aria-hidden="true">4.10.</strong> Imperative</a></li></ol></li><li class="chapter-item expanded "><a href="../examples/index.html"><strong aria-hidden="true">5.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../examples/basics.html"><strong aria-hidden="true">5.1.</strong> Basics</a></li><li class="chapter-item expanded "><a href="../examples/recursion.html"><strong aria-hidden="true">5.2.</strong> Recursion & Induction</a></li></ol></li><li class="chapter-item expanded "><a href="../about.html">About</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SML Help</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="common-hofs-and-partial-evaluation"><a class="header" href="#common-hofs-and-partial-evaluation">Common HOFs and Partial Evaluation</a></h1>
<p><em>By Brandon Wu, June 2020. Revised March 2022</em></p>
<p>In this section, we will explore a number of common higher-order functions that
we will make use of. These higher-order functions embody <em>design patterns</em> that
are common in programming, and represent a <em>generalized notion</em> of a large space
of potential functions that can be made to solve a myriad of problems. This
section focuses on understanding the importance that higher-order functions
offer us through increasing <em>abstraction</em>, as well as <em>modularity</em> in the
structure of our code.</p>
<h2 id="designing-higher-order-functions"><a class="header" href="#designing-higher-order-functions">Designing Higher-Order Functions</a></h2>
<p>Suppose that we are interested in incrementing all the numbers in a list by one.</p>
<pre><code class="language-sml">fun incList [] = []
  | incList (x::xs) = (x + 1) :: incList xs
</code></pre>
<p>This is not too bad to do - we simply need to increment each individual element, and then
simply cons it back on recursively. Suppose further that, as the arithmetically-minded
scholars that we are, we are also interested in negating the sign of each
element in a list.</p>
<pre><code class="language-sml">fun negateList [] = []
  | negateList (x::xs) = (~x) :: negateList xs
</code></pre>
<p>These two look quite similar, which we begin to find unnerving. Hoping to get
away from what is surely a wild coincidence, we try and write a function to take
a list of strings and append the string <code>&quot;\n&quot;</code> to them (which denotes the
newline character).</p>
<pre><code class="language-sml">fun newLineList [] = []
  | newLineList (x::xs) = (x ^ &quot;\n&quot;) :: newLineList xs
</code></pre>
<p>We can't seem to escape!</p>
<h3 id="map"><a class="header" href="#map">Map</a></h3>
<p>We have seen that these functions we have written all look very similar - they
perform a function on each element of a list, then cons the result back on to
the recursive call so as to perform that operation on <em>every</em> element of the
list. This is a common <em>design pattern</em>, or <em>template</em> for a function that we
want to do a particular thing. For each specific operation we want to perform on
a list, it seems we would have to write the same sort of function each time,
only changing the operation that is performed at the recursive call. To avoid
all that work, we will make use of <em>higher-order functions</em>.</p>
<pre><code class="language-sml">(* map : ('a -&gt; 'b) -&gt; 'a list -&gt; 'b list *)
fun map f [] = []
  | map f (x::xs) = (f x) :: map f xs
</code></pre>
<p><code>map</code> thus both takes in a function (in this instance, the function <code>f</code>) and is <em>curried</em>, meaning that it itself returns a function. <code>map</code> takes in the
function that you wish to apply to the entire list, and then the list, and then
returns the result of applying that function to every element in the list. In
other words, <code>map f [x_1, ..., x_n] ==&gt; [f x_1, ..., f x_n]</code>.</p>
<p>We also note that <code>map</code> is <em>polymorphic</em>, as we learned earlier, and the
function it takes in has type <code>'a -&gt; 'b</code>, which is the most general function
type. This means that the function we pass in can describe any kind of
transformation on some element, which grants us a great deal of versatility.</p>
<p><code>map</code> <em>describes</em> a pattern, or a <em>family</em> of functions that all follow the same
sort of structure. In the same way that <code>'a</code> is a variable ranging over all
types, where we can describe each type as an <em>instance</em> of <code>'a</code>, we can describe
functions like <code>incList</code>, <code>negateList</code>, and <code>newLineList</code> as being sort of
&quot;instances&quot; of <code>map</code>. Specifically, we have that <code>incList</code> is extensionally
equivalent to <code>map (fn x =&gt; x + 1)</code>, <code>negateList</code> is extensionally equivalent to
<code>map ~</code>, and <code>newLineList</code> is extensionally equivalent to <code>map (fn x =&gt; x ^ &quot;\n&quot;)</code>.</p>
<p>We will now explore some more types of common patterns.</p>
<h3 id="filter"><a class="header" href="#filter">Filter</a></h3>
<p>Quite often, we have a collection of objects and are interested in only some of
them - we want to select those that possess the desired property, and get rid of
those that do not. In other words, we want to <em>filter</em> the list into only those
such elements. The property that we desire, however, could be anything. All we
need to be able to do is say &quot;yes&quot; or &quot;no&quot; at any given item,</p>
<p>This is embodied in the implementation of <code>filter</code>, which abstracts away the
specific property in question.</p>
<pre><code class="language-sml">(* filter : ('a -&gt; bool) -&gt; 'a list -&gt; 'a list *)
fun filter p [] = []
  | filter p (x::xs) = if p x then x :: filter p xs
                              else filter p xs
</code></pre>
<p>We describe the function <code>p</code> (of type <code>'a -&gt; bool</code>) as a <em>predicate function</em>,
or alternatively <em>indicator function</em>, which simply returns <code>true</code> on those
&quot;yes&quot;-cases and <code>no</code> on &quot;no&quot;-cases. Seen in this way, <code>filter</code> does something
very similar to <code>map</code>, where it takes in the function it needs to apply to the
elements of the list. In the case where the predicate holds, the element is
kept, otherwise the element is discarded.</p>
<p>We could, for instance, obtain all the even integers in a list <code>L : int list</code> by
writing the expression <code>filter (fn x =&gt; x mod 2 = 0) L</code>.</p>
<h3 id="fold"><a class="header" href="#fold">Fold</a></h3>
<p>Map is very useful for performing some kind of transformation on a bulk group of
data, however it retains the &quot;structure&quot; of the list. It maintains the elements
in the same order as they were inputted, and simply transforms each piecewise to
produce a final answer. Sometimes, we are interested in simply achieving a final
result from a collection of data - not another collection of data itself. This
describes a very common pattern known as <em>folding</em>.</p>
<pre><code class="language-sml">(* foldl : ('a * 'b -&gt; 'b) -&gt; 'b -&gt; 'a list -&gt; 'b *)
fun foldl g z [] = z
  | foldl g z (x::xs) = foldl g (g(x, z)) xs

(* foldr : ('a * 'b -&gt; 'b) -&gt; 'b -&gt; 'a list -&gt; 'b *)
fun foldr g z [] = z
  | foldr g z (x::xs) = g(x, foldr g z xs)
</code></pre>
<p>More specifically, <code>foldl</code> and <code>foldr</code> both describe two ways of combining the
elements in a list, given a function <code>g</code>. The role of <code>z</code> is that of a &quot;base
case&quot; in our accumulated value, so that we have an initial point to start from
when using the function <code>g</code>. The result of <code>foldl g z [x_1, ..., x_n]</code> is to
evaluate to <code>f(x_n, ..., f(x_2, f(x_1, z))...)</code>, and the result of <code>foldr g z [x_1, ..., x_n]</code> is to evaluate to <code>f(x_1, ..., f(x_n-1, f(x_n, z))...)</code>. We are
thus choosing whether we want to fold from the <em>left</em> of the list or the
<em>right</em>.</p>
<p><strong>NOTE:</strong> One way to remember which way that that each respective <code>fold</code> goes is
to identify the corresponding side (left or right) as being the side of the most
<em>deeply nested</em> element in the functions. As such, since <code>x_1</code> is the most
leftmost element, <code>foldl</code> has <code>f(x_1, z)</code> as its innermost component, whereas
since <code>x_n</code> is the most rightmost element, <code>foldr</code> has <code>f(x_n, z)</code>.</p>
<p>Use cases for <code>fold</code> include if you wanted to turn a list of strings into a
single string, which you could accomplish with <code>foldr (op^) &quot;&quot;</code>, or if you wanted
to sum the elements of a list, which could be done with <code>foldl (op+) 0</code>. Note that
in the case of summing a list, <code>foldr</code> would work too - this is because <code>+</code> is
an <em>associative</em> function, meaning that it does not matter which order you
evaluate it in (or in proper terms, \( f(x, f(y, z)) \cong f(f(x, y), z) \), for
all \( x, y, z \)).</p>
<p>For many purposes, it will be the case that your <code>z</code> will be some <em>identity</em>
value, such as <code>0</code> for summing a list, or the empty string for concatenating all
the strings in a list. This does not always have to be the case. One of the
strengths of the implementation is that we can <em>specify</em> what our <code>z</code> is, and
tailor that to our needs. For instance, if we wanted to append a <code>&quot;\n&quot;</code> to our
string concatenation, we could use <code>foldr (op^) &quot;\n&quot;</code>. Fold offers us a great
deal of flexibility with choosing how we want to reduce a list.</p>
<p>It is somewhat important to note the type of the function <code>g</code> here. It has type
<code>'a * 'b -&gt; 'b</code>, where <code>'a</code> is the type of the elements in the list that we are
folding, and <code>'b</code> is the type of the initial accumulator and output. It is useful to
think of this <code>'b</code> type as the type of the <code>fold</code> function's &quot;accumulator&quot;, or
the information that it stores as it proceeds along its computation. In the case
of <code>foldl</code>, this accumulator at a given point along the list is simply the
folded value of the all the elements to the left - and in <code>foldr</code>, it is the
folded value of all the elements to the right. The polymorphic nature of this
accumulator becomes a major strength, as we can &quot;carry along&quot; any kind of
information that we like, so long as we define how it changes when we receive a
new <code>'a</code>-typed element from the list that we are folding.</p>
<p>So, for instance, the accumulator in <code>foldl (op+) 0</code> is simply the sum of all
the elements to the left of any given point. The accumulator of <code>foldr (op^) &quot;&quot;</code>
is the concatenation of all of the strings to the right of a given point (which
I hope makes apparent why <code>foldr</code> is the right fold for the task, as opposed to
<code>foldl</code>!).</p>
<h2 id="compose"><a class="header" href="#compose">Compose</a></h2>
<p>One of the major examples that we used to motivate totality was that of
<em>function composition</em>, the classic example being \( f(g(x)) \), for some
functions \( f \) and \( g \). This is a very common idea, where we have some form
of data that we would like to put through a series of transformations. If our
transformations are inherently disparate (such as being bound to identifiers of
different functions), we may have to write code that looks like <code>f1 (f2 (f3 (f4 (f5 x))))</code>. However, this can only happen if we <em>already have access to the
element x</em>. So then, what happens if we want to give a name to the <em>process</em> of
applying <code>f5</code>, then <code>f4</code>, then <code>f3</code>, then <code>f2</code>, and then <code>f1</code>?</p>
<p>We could, of course, write the lambda expression <code>fn x =&gt; f1 (f2 (f3 (f4 (f5 x))))</code>, however that still can be rather ugly. There is an entire style of
programming (named <em>point-free</em>, or <em>tacit</em> programming) that tries to eliminate
the deliberate identification of the arguments to functions, instead making use
of <em>combinators</em>. In a similar flavor, we would like to eliminate the explicit
need to construct the lambda expression that takes in the input <code>x</code>. We might
then call back to another common mathematical operator, that being of <em>function
composition</em>, or <code>o</code>.</p>
<pre><code class="language-sml">infix o
(* o : ('b -&gt; 'c) -&gt; ('a -&gt; 'b) -&gt; ('a -&gt; 'c) *)
fun f o g = fn x =&gt; f (g x)
</code></pre>
<p>Note that the types are constrained to permit the &quot;compatibility&quot; of the
functions <code>f</code> and <code>g</code>. The input type of <code>f</code> can be general, as well as the
output type of <code>g</code>, but the output type of <code>g</code> must match the input type of <code>f</code>.
In this way, we can &quot;string along&quot; a series of functions in order to produce a
single function that performs the &quot;pipeline&quot; of transformations that we desire.</p>
<p>So, for instance, we could write the function that, given a tree of integers,
sums all of the elements in the tree by simply writing <code>sum o inord</code>. We could,
of course, simply write <code>treeSum</code>, however this idea is generalizable to more
complicated sequences of transformations.</p>
<h2 id="partial-evaluation-and-modularity"><a class="header" href="#partial-evaluation-and-modularity">Partial Evaluation and Modularity</a></h2>
<p>At this point, we have seen several examples of common higher-order functions,
as well as potential use cases. These use cases often look nothing alike, but
they all share a fundamental similarity in their <em>structure</em>, which is specified
by the given higher-order function.</p>
<p>A key strength of higher-order functions lies in <em>partial evaluation</em>, where we
can use higher-order functions to further derive other functions (and possibly
higher-order functions, themselves). It is fine for, in the case of finding the
sum of a single list <code>L</code>, to simply evaluate <code>foldr (op+) 0 L</code>, but in the general
case it is a strength that we can bind the function <code>foldr (op+) 0</code> to the name
<code>sum</code>. This comes in handy especially if we want to sum over <em>many</em> lists, so
that we don't continuously have to compute the result of <code>foldr (op+) 0</code> (though it
has negligible computational cost, admittedly).</p>
<p>Seen in this way, it is as if higher-order functions are at the root of a large
<em>tree</em> of potential functions, where each node in the tree is an
increasingly-specialized function, until we arrive at some specific use case.
This makes higher-order functions <em>modular</em>, as we can simply &quot;mix-and-match&quot;
the arguments to HOFs such as <code>map</code> or <code>fold</code> until we arrive at the specific
tools that we need.</p>
<p>This is only an example of the way that abstraction and modularity grant us
strength in programming. Through abstracting away even the specific operations
that programs carry out, we can &quot;capture&quot; a large amount of potential functions
that we may write.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../concepts/curry.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../concepts/control.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../concepts/curry.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../concepts/control.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
